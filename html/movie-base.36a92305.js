const e={load:document.querySelector(".js-load-more"),movieList:document.querySelector(".js-movie-list"),target:document.querySelector(".js-guard")},{load:t,movieList:o,target:n}=e;let r=1,a=new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(r+=1,s(r).then((e=>{o.insertAdjacentHTML("beforeend",i(e.results))})).catch((e=>console.log(e))))}))}),{root:null,rootMargin:"300px",threshold:0});function s(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=1458aa5a0f3768251d977a5078bcec84&page=${e}`).then((e=>{if(!e)throw new Error(e.statusText);return e.json()}))}function i(e){return e.map((({poster_path:e,release_date:t,original_title:o,vote_average:n})=>`<li class="movie-card">\n        <img src="https://image.tmdb.org/t/p/w300${e}" alt="${o}" class="movie-img">\n        <h2 class="movie-name">${o}</h2>\n        <p>${t}</p>\n        <p>${n}</p>\n      </li>`)).join("")}t.addEventListener("click",(function(){r+=1,s(r).then((e=>{o.insertAdjacentHTML("beforeend",i(e.results)),e.page>=e.total_pages&&(t.hidden=!0)})).catch((e=>console.log(e)))})),s(r).then((e=>{o.insertAdjacentHTML("beforeend",i(e.results)),a.observe(n),e.page,e.total_pages})).catch((e=>console.log(e)));
//# sourceMappingURL=movie-base.36a92305.js.map
