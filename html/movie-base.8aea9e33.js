const e={load:document.querySelector(".js-load-more"),movieList:document.querySelector(".js-movie-list"),target:document.querySelector(".js-guard")},{load:t,movieList:r,target:o}=e;let n=1,a=new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(n+=1,s(n).then((o=>{r.insertAdjacentHTML("beforeend",i(o.results)),o.page>=o.total_pages&&t.unobserve(e.target)})).catch((e=>console.log(e))))}))}),{root:null,rootMargin:"300px",threshold:0});function s(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=1458aa5a0f3768251d977a5078bcec84&page=${e}`).then((e=>{if(!e)throw new Error(e.statusText);return e.json()}))}function i(e){return e.map((({poster_path:e,release_date:t,original_title:r,vote_average:o})=>`<li class="movie-card">\n        <img src="https://image.tmdb.org/t/p/w300${e}" alt="${r}" class="movie-img">\n        <h2 class="movie-name">${r}</h2>\n        <p>${t}</p>\n        <p>${o}</p>\n      </li>`)).join("")}s(n).then((e=>{r.insertAdjacentHTML("beforeend",i(e.results)),a.observe(o),e.page<e.total_pages&&a.observe(o)})).catch((()=>location.href="../../error.html"));
//# sourceMappingURL=movie-base.8aea9e33.js.map
