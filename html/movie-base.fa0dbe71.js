!function(){var e="1458aa5a0f3768251d977a5078bcec84",t="https://api.themoviedb.org/3",n="/trending/movie/week",o={load:document.querySelector(".js-load-more"),movieList:document.querySelector(".js-movie-list"),target:document.querySelector(".js-guard")},c=o.load,r=o.movieList,a=o.target,i=1,s=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&u(i+=1).then((function(e){r.insertAdjacentHTML("beforeend",l(e.results))})).catch((function(e){return console.log(e)}))}))}),{root:null,rootMargin:"300px",threshold:0});function u(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("".concat(t).concat(n,"?api_key=").concat(e,"&page=").concat(o)).then((function(e){if(!e)throw new Error(e.statusText);return e.json()}))}function l(e){return e.map((function(e){var t=e.poster_path,n=e.release_date,o=e.original_title,c=e.vote_average;return'<li class="movie-card">\n        <img src="https://image.tmdb.org/t/p/w300'.concat(t,'" alt="').concat(o,'" class="movie-img">\n        <h2 class="movie-name">').concat(o,"</h2>\n        <p>").concat(n,"</p>\n        <p>").concat(c,"</p>\n      </li>")})).join("")}c.addEventListener("click",(function(){u(i+=1).then((function(e){r.insertAdjacentHTML("beforeend",l(e.results)),e.page>=e.total_pages&&(c.hidden=!0)})).catch((function(e){return console.log(e)}))})),u(i).then((function(e){r.insertAdjacentHTML("beforeend",l(e.results)),s.observe(a),e.page,e.total_pages})).catch((function(e){return console.log(e)}))}();
//# sourceMappingURL=movie-base.fa0dbe71.js.map
