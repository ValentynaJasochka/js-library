!function(){var e="1458aa5a0f3768251d977a5078bcec84",t="https://api.themoviedb.org/3",n="/trending/movie/week",o={load:document.querySelector(".js-load-more"),movieList:document.querySelector(".js-movie-list"),target:document.querySelector(".js-guard")},r=o.movieList,c=o.target,a=1,i=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&s(a+=1).then((function(n){r.insertAdjacentHTML("beforeend",u(n.results)),n.page>=n.total_pages&&t.unobserve(e.target)})).catch((function(e){return console.log(e)}))}))}),{root:null,rootMargin:"300px",threshold:0});function s(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("".concat(t).concat(n,"?api_key=").concat(e,"&page=").concat(o)).then((function(e){if(!e)throw new Error(e.statusText);return e.json()}))}function u(e){return e.map((function(e){var t=e.poster_path,n=e.release_date,o=e.original_title,r=e.vote_average;return'<li class="movie-card">\n        <img src="https://image.tmdb.org/t/p/w300'.concat(t,'" alt="').concat(o,'" class="movie-img">\n        <h2 class="movie-name">').concat(o,"</h2>\n        <p>").concat(n,"</p>\n        <p>").concat(r,"</p>\n      </li>")})).join("")}s(a).then((function(e){r.insertAdjacentHTML("beforeend",u(e.results)),i.observe(c),e.page<e.total_pages&&i.observe(c)})).catch((function(){return location.href="../../error.html"}))}();
//# sourceMappingURL=movie-base.426cec8c.js.map
